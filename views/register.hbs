<script language="JavaScript" type="text/javascript">
   $(document).ready(function() {
      // set focus on first form element (got this from http://stackoverflow.com/a/279153/703200)
      $('form:first *:input[type!=hidden]:first').focus();
   });

   function submitRegistration() {
      var user = {
         email : $("#email").val(),
         password : $("#password").val()
      };
      console.log("About to register user: " + JSON.stringify(user, null, 3));
      superagent
            .post("/api/v1/users")
            .send(user)
            .end(function(err, res) {
                    if (res.status == 201) {
                       console.log("CREATE USER SUCCESS!: " + JSON.stringify(res.body, null, 3));
                    }
                    else if (res.status == 400) {
                       console.log("VALIDATION ERROR!: " + JSON.stringify(res.body, null, 3));
                    }
                    else if (res.status == 409) {
                       console.log("USER EXISTS!: " + JSON.stringify(res.body, null, 3));
                    }
                    else {
                       console.log("CREATE USER FAILURE!: " + JSON.stringify(res.body, null, 3));
                    }
                 });
   }
</script>
<h1>Sign Up</h1>
<form onsubmit="submitRegistration(); return false;">
   <p>
      <input type="text" id="email" name="email" placeholder="Email address"/>
   </p>
   <p>
      <input type="password" id="password" name="password" placeholder="Password"/>
   </p>
   <p>
      <input type="submit" value="Sign Up"/>
   </p>
</form>
